{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = 'http://localhost:8002/';\nexport const apiCaller = (endpoint, request = {}) => {\n  const {\n    data,\n    method = 'get'\n  } = request;\n  const headers = {};\n  headers['Content-Type'] = 'application/json';\n  const requestData = {\n    headers,\n    method\n  };\n  if (method === 'get') {\n    requestData.params = data;\n  } else if (data) {\n    requestData.data = data;\n  }\n  return axios({\n    url: `${BASE_URL}/${endpoint}`,\n    ...requestData\n  }).then(res => ({\n    data: res.data\n  }));\n};","map":{"version":3,"names":["axios","BASE_URL","apiCaller","endpoint","request","data","method","headers","requestData","params","url","then","res"],"sources":["C:/Users/Maryna/Desktop/test/test-task/frontend/src/utils/apiCaller.ts"],"sourcesContent":["import axios, { AxiosRequestConfig, AxiosRequestHeaders, Method } from 'axios';\r\n\r\nconst BASE_URL = 'http://localhost:8002/';\r\n\r\nexport type TApiCaller = <R = unknown, T = unknown> (\r\n  endpoint: string,\r\n  request?: { data?: T, method?: Method },\r\n) => Promise<({ data: R })>;\r\n\r\nexport const apiCaller: TApiCaller = (\r\n  endpoint,\r\n  request = {},\r\n) => {\r\n  const { data, method = 'get' } = request;\r\n\r\n  const headers = {} as AxiosRequestHeaders;\r\n\r\n  headers['Content-Type'] = 'application/json';\r\n\r\n  const requestData: AxiosRequestConfig = { headers, method };\r\n\r\n  if (method === 'get') {\r\n    requestData.params = data;\r\n  } else if (data) {\r\n    requestData.data = data;\r\n  }\r\n\r\n  return axios({ url: `${BASE_URL}/${endpoint}`, ...requestData })\r\n    .then((res) => ({ data: res.data }));\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAA2D,OAAO;AAE9E,MAAMC,QAAQ,GAAG,wBAAwB;AAOzC,OAAO,MAAMC,SAAqB,GAAGA,CACnCC,QAAQ,EACRC,OAAO,GAAG,CAAC,CAAC,KACT;EACH,MAAM;IAAEC,IAAI;IAAEC,MAAM,GAAG;EAAM,CAAC,GAAGF,OAAO;EAExC,MAAMG,OAAO,GAAG,CAAC,CAAwB;EAEzCA,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;EAE5C,MAAMC,WAA+B,GAAG;IAAED,OAAO;IAAED;EAAO,CAAC;EAE3D,IAAIA,MAAM,KAAK,KAAK,EAAE;IACpBE,WAAW,CAACC,MAAM,GAAGJ,IAAI;EAC3B,CAAC,MAAM,IAAIA,IAAI,EAAE;IACfG,WAAW,CAACH,IAAI,GAAGA,IAAI;EACzB;EAEA,OAAOL,KAAK,CAAC;IAAEU,GAAG,EAAG,GAAET,QAAS,IAAGE,QAAS,EAAC;IAAE,GAAGK;EAAY,CAAC,CAAC,CAC7DG,IAAI,CAAEC,GAAG,KAAM;IAAEP,IAAI,EAAEO,GAAG,CAACP;EAAK,CAAC,CAAC,CAAC;AACxC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}